import{a as Ie,b as we,c as R,d as I,e as w,f as O,g as P,h as q,i as k,j as F,k as j,l as N,m as Ne,n as He,o as Le,p as Ue,q as Ge,s as Ve,t as We,u as Ye,v as Je,w as Qe,x as Ke}from"./chunk-FUKNBEGF.js";import{$d as ze,Aa as n,Ba as h,Ca as f,Cb as be,Da as g,Eb as Se,Fa as V,Gb as Q,I as ue,Ia as u,Ja as v,Kb as K,Kd as b,Lb as X,Mb as Z,Md as M,Nd as D,O as S,Ob as x,Od as me,P as fe,Pd as re,Qb as ee,Qd as je,Ra as a,Sa as T,Sb as te,T as G,Ta as _,Tb as ie,U as B,Ua as A,Ub as ne,Ud as H,Va as $,Vc as le,Wa as z,Wd as se,Xa as W,Xd as Be,Yc as Ae,Zd as L,_b as ae,_d as $e,ab as ge,ac as oe,bb as he,bc as De,bd as Ee,cc as Me,dd as E,ec as Te,fa as r,ga as d,hd as ye,jc as ve,kb as Y,kd as y,lb as Ce,ld as Re,md as Oe,nb as _e,nd as Pe,oa as c,od as qe,pb as xe,qd as ke,ra as p,rd as Fe,tb as J,za as i}from"./chunk-7QJRHYUZ.js";function ut(t,l){t&1&&(i(0,"th",15),a(1," No. "),n())}function ft(t,l){if(t&1&&(i(0,"td",16),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.requestId," ")}}function gt(t,l){t&1&&(i(0,"th",15),a(1," Name "),n())}function ht(t,l){if(t&1&&(i(0,"td",16),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.name," ")}}function Ct(t,l){t&1&&(i(0,"th",15),a(1," location "),n())}function _t(t,l){if(t&1&&(i(0,"td",16),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.location," ")}}function xt(t,l){t&1&&(i(0,"th",15),a(1," nature "),n())}function bt(t,l){if(t&1&&(i(0,"td",16),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.nature," ")}}function St(t,l){t&1&&(i(0,"th",15),a(1," status "),n())}function Dt(t,l){if(t&1&&(i(0,"td",16),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.status," ")}}function Mt(t,l){t&1&&(i(0,"th",17),a(1," Assign "),n())}function Tt(t,l){if(t&1){let e=V();i(0,"td",18)(1,"button",1),u("click",function(){let o=G(e).$implicit,s=v();return B(s.assignRequest(o.requestId))}),a(2,"Message"),n()()}}function vt(t,l){t&1&&h(0,"tr",19)}function At(t,l){t&1&&h(0,"tr",20)}var tt=(()=>{class t{constructor(e,m,o,s){this.rescueTeamService=e,this.requestService=m,this.dialog=o,this.data=s,this.displayedColumns=["request_id","name","location","nature","status","assign"]}ngOnInit(){this.requestService.getAllActiveRequest().subscribe(e=>{this.activeRequest=e,console.log(e)})}close(){this.dialog.closeAll()}assignRequest(e){console.log(e),console.log(this.data),this.rescueTeamService.assignRequest(e,this.data)}static{this.\u0275fac=function(m){return new(m||t)(d(L),d(H),d(D),d(M))}}static{this.\u0275cmp=S({type:t,selectors:[["app-assign-rescue-team-dialog-admin"]],decls:26,vars:3,consts:[["mat-dialog-title","",1,"AssignRequestDialog"],[1,"btnCreateSubreddit",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","request_id"],["mat-header-cell","","style","text-align: center",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","location"],["matColumnDef","nature"],["matColumnDef","status"],["matColumnDef","assign"],["mat-header-cell","","class","align-right",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["mat-header-cell","",1,"align-right"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(m,o){m&1&&(i(0,"h4",0),a(1,"AssignRequestDialog Dialog"),n(),i(2,"button",1),u("click",function(){return o.close()}),a(3,"Close"),n(),i(4,"mat-dialog-content")(5,"table",2),f(6,3),c(7,ut,2,0,"th",4)(8,ft,2,1,"td",5),g(),f(9,6),c(10,gt,2,0,"th",4)(11,ht,2,1,"td",5),g(),f(12,7),c(13,Ct,2,0,"th",4)(14,_t,2,1,"td",5),g(),f(15,8),c(16,xt,2,0,"th",4)(17,bt,2,1,"td",5),g(),f(18,9),c(19,St,2,0,"th",4)(20,Dt,2,1,"td",5),g(),f(21,10),c(22,Mt,2,0,"th",11)(23,Tt,3,0,"td",12),g(),c(24,vt,1,0,"tr",13)(25,At,1,0,"tr",14),n()()),m&2&&(r(5),p("dataSource",o.activeRequest),r(19),p("matHeaderRowDef",o.displayedColumns),r(),p("matRowDefColumns",o.displayedColumns))},dependencies:[R,w,k,O,I,F,P,q,j,N,me,re]})}}return t})();function Et(t,l){t&1&&(i(0,"th",17),a(1," Id "),n())}function yt(t,l){if(t&1&&(i(0,"td",18),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.rescueTeamId," ")}}function Rt(t,l){t&1&&(i(0,"th",17),a(1," requestId "),n())}function It(t,l){if(t&1&&(i(0,"td",19),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.requestId," ")}}function wt(t,l){t&1&&(i(0,"th",17),a(1," location "),n())}function Ot(t,l){if(t&1&&(i(0,"td",19),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.location," ")}}function Pt(t,l){t&1&&(i(0,"th",17),a(1," Members "),n())}function qt(t,l){if(t&1&&(i(0,"td",18),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.members," ")}}function kt(t,l){t&1&&(i(0,"th",17),a(1," Nature "),n())}function Ft(t,l){if(t&1&&(i(0,"td",18),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.nature," ")}}function jt(t,l){t&1&&(i(0,"th",17),a(1," Status "),n())}function Nt(t,l){if(t&1&&(i(0,"td",18),a(1),n()),t&2){let e=l.$implicit;r(),_(" ",e.status," ")}}function Ht(t,l){t&1&&(i(0,"th",17),a(1," Action "),n())}function Lt(t,l){t&1&&(i(0,"td",18)(1,"button",20),a(2,"Message"),n()())}function Ut(t,l){t&1&&(i(0,"th",21),a(1," Action2 "),n())}function Gt(t,l){if(t&1){let e=V();i(0,"td",18)(1,"button",1),u("click",function(){let o=G(e).$implicit,s=v();return B(s.openAssignDialog(o.rescueTeamId))}),a(2,"Assign Request"),n()()}}function Bt(t,l){t&1&&h(0,"tr",22)}function Vt(t,l){t&1&&h(0,"tr",23)}var it=(()=>{class t{constructor(e,m,o){this.requestService=e,this.dialog=m,this.data=o,this.displayedColumns=["Id","request_id","location","Members","nature","status","action","action2"],this.dataSource=new He}ngOnInit(){this.RequestData=this.data,console.log(this.data),console.log(this.RequestData),this.dataSource.data=this.RequestData,this.activeRequest=this.requestService.getAllActiveRequest().subscribe(e=>{this.activeRequest=e,console.log(e)})}close(){this.dialog.closeAll()}openAssignDialog(e){let m=new b;m.disableClose=!0,m.data=e,m.autoFocus=!0,console.log("HERE"+JSON.stringify(this.activeRequest)),this.dialog.open(tt,m)}static{this.\u0275fac=function(m){return new(m||t)(d(H),d(D),d(M))}}static{this.\u0275cmp=S({type:t,selectors:[["app-rescue-team-info-admin-dialog"]],decls:32,vars:3,consts:[["mat-dialog-title","","layout-align","center",1,"rescueTeamDialog"],[1,"btnCreateSubreddit",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","class","align-center",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","request_id"],["mat-cell","","class","align-center",4,"matCellDef"],["matColumnDef","location"],["matColumnDef","Members"],["matColumnDef","nature"],["matColumnDef","status"],["matColumnDef","action"],["matColumnDef","action2"],["mat-header-cell","","class","align-right",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"align-center"],["mat-cell",""],["mat-cell","",1,"align-center"],[1,"btnCreateSubreddit"],["mat-header-cell","",1,"align-right"],["mat-header-row",""],["mat-row",""]],template:function(m,o){m&1&&(i(0,"h4",0),a(1,"Rescue Team Dialog"),n(),i(2,"button",1),u("click",function(){return o.close()}),a(3,"Close"),n(),i(4,"mat-dialog-content")(5,"table",2),f(6,3),c(7,Et,2,0,"th",4)(8,yt,2,1,"td",5),g(),f(9,6),c(10,Rt,2,0,"th",4)(11,It,2,1,"td",7),g(),f(12,8),c(13,wt,2,0,"th",4)(14,Ot,2,1,"td",7),g(),f(15,9),c(16,Pt,2,0,"th",4)(17,qt,2,1,"td",5),g(),f(18,10),c(19,kt,2,0,"th",4)(20,Ft,2,1,"td",5),g(),f(21,11),c(22,jt,2,0,"th",4)(23,Nt,2,1,"td",5),g(),f(24,12),c(25,Ht,2,0,"th",4)(26,Lt,3,0,"td",5),g(),f(27,13),c(28,Ut,2,0,"th",14)(29,Gt,3,0,"td",5),g(),c(30,Bt,1,0,"tr",15)(31,Vt,1,0,"tr",16),n()()),m&2&&(r(5),p("dataSource",o.RequestData),r(25),p("matHeaderRowDef",o.displayedColumns),r(),p("matRowDefColumns",o.displayedColumns))},dependencies:[R,w,k,O,I,F,P,q,j,N,me,re],styles:[".btnCreateSubreddit[_ngcontent-%COMP%]{margin-top:5px;color:#0079d3;background-color:transparent}.align-right[_ngcontent-%COMP%]{display:flex;padding:21px 0;justify-content:flex-end}"]})}}return t})();var de=class{constructor(l,e,m,o,s){this.members=l,this.requestIdAssigned=e,this.location=m,this.nature=o,this.status=s}};function Yt(t,l){if(t&1&&(i(0,"mat-option",21),a(1),n()),t&2){let e=l.$implicit;p("value",e.userId),r(),A("",e.userId,"---",e.department,"")}}var ot=(()=>{class t{constructor(e,m,o,s){this.rescueTeamservice=e,this.dialog=m,this.data=o,this.FormBuilder=s,this.rescueTeam=new de([],0,"","",""),this.SelectedEmployees=new x,this.rescueTeamForm=new Z({name:new x,selectedEmployee:new x,fire:new x,medical:new x,crime:new x,location:new x}),this.AllEmp=this.data,console.log(this.AllEmp)}ngOnInit(){}close(){this.dialog.closeAll()}createRescueTeam(e){let m;e.crime?e.fire?e.medical?m=6:m=3:e.medical?m=5:m=0:e.fire?e.medical?m=4:m=1:e.medical&&(m=2),console.log(m),console.log(e),console.log(this.SelectedEmployees.value),this.rescueTeam.members=this.SelectedEmployees.value,this.rescueTeam.location=this.rescueTeamForm.value.location,console.log(this.rescueTeam),this.rescueTeam.nature=m,this.rescueTeam.status="true",this.rescueTeamservice.createRescueTeam(this.rescueTeam)}static{this.\u0275fac=function(m){return new(m||t)(d(L),d(D),d(M),d(oe))}}static{this.\u0275cmp=S({type:t,selectors:[["app-create-rescue-team-dialog"]],decls:39,vars:7,consts:[[1,"col-md-6","offset-md-10"],["type","button",1,"sign-up",3,"click"],[1,"col-md-12"],[1,"card"],[1,"card-header",2,"text-align","center"],[1,"card-body"],["group","rescueTeam-form",3,"ngSubmit","formGroup"],[1,"form-group","row"],[1,"example-section"],["formControlName","fire",1,"example-margin",3,"ngModelChange","ngModel"],["formControlName","medical",1,"example-margin",3,"ngModelChange","ngModel"],["formControlName","crime",1,"example-margin",3,"ngModelChange","ngModel"],["for","email_address",1,"col-md-6","col-form-label","text-md-right"],[1,"col-md-6"],["appearance","fill"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["for","location",1,"col-md-6","col-form-label","text-md-right"],["type","text","id","location","name","location","required","","autofocus","",1,"form-control",3,"formControlName"],[1,"col-md-6","offset-md-4"],["type","submit",1,"sign-up"],[3,"value"]],template:function(m,o){m&1&&(i(0,"span",0)(1,"button",1),u("click",function(){return o.close()}),a(2," close "),n()(),i(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4"),a(7,"Register Rescue Team"),n()(),i(8,"div",5)(9,"form",6),u("ngSubmit",function(){return o.createRescueTeam(o.rescueTeamForm.value)}),i(10,"div",7)(11,"mat-label"),a(12,"Nature of Team"),n(),i(13,"section",8)(14,"mat-checkbox",9),W("ngModelChange",function(C){return z(o.fire,C)||(o.fire=C),C}),a(15,"Fire"),n(),a(16," \xA0\xA0"),i(17,"mat-checkbox",10),W("ngModelChange",function(C){return z(o.medical,C)||(o.medical=C),C}),a(18,"Medical"),n(),a(19," \xA0\xA0"),i(20,"mat-checkbox",11),W("ngModelChange",function(C){return z(o.crime,C)||(o.crime=C),C}),a(21,"Crime"),n()()(),i(22,"div",7)(23,"label",12),a(24,"Employees"),n(),i(25,"div",13)(26,"mat-form-field",14)(27,"mat-label"),a(28,"All Employees"),n(),i(29,"mat-select",15),c(30,Yt,2,3,"mat-option",16),n()()()(),i(31,"div",7)(32,"label",17),a(33,"Location"),n(),i(34,"div",13),h(35,"input",18),n()(),i(36,"span",19)(37,"button",20),a(38," Create "),n()()()()()()),m&2&&(r(9),p("formGroup",o.rescueTeamForm),r(5),$("ngModel",o.fire),r(3),$("ngModel",o.medical),r(3),$("ngModel",o.crime),r(9),p("formControl",o.SelectedEmployees),r(),p("ngForOf",o.AllEmp),r(5),p("formControlName","location"))},dependencies:[Y,y,E,se,le,ee,Q,K,X,ae,te,ie,ne],styles:[".btnCreateSubreddit[_ngcontent-%COMP%]{margin-top:5px;color:#0079d3;background-color:transparent}"]})}}return t})();var pe=class{constructor(l,e,m,o){this.employees=l,this.name=e,this.location=m,this.status=o}};function Qt(t,l){if(t&1&&(i(0,"mat-option",19),a(1),n()),t&2){let e=l.$implicit;p("value",e.userId),r(),A("",e.userId,"---",e.department,"")}}var lt=(()=>{class t{constructor(e,m,o,s){this.httpClient=e,this.dialog=m,this.data=o,this.formBuilder=s,this.depObj=new pe([],"","",""),this.SelectedEmployees=new x,this.departmentForm=new Z({name:new x,location:new x}),this.allemp=o}ngOnInit(){}close(){this.dialog.closeAll()}createDepartment(e){return console.log(e),console.log(this.SelectedEmployees.value),this.depObj.employees=this.SelectedEmployees.value,this.depObj.name=e.name,this.depObj.location=e.location,console.log("DEpartment Creation"+e),e.selectedEmployee=this.SelectedEmployees.value,this.httpClient.post("http://localhost:8080/api/department/addDepartment/",this.depObj,{responseType:"text"}).subscribe()}static{this.\u0275fac=function(m){return new(m||t)(d(J),d(D),d(M),d(oe))}}static{this.\u0275cmp=S({type:t,selectors:[["app-create-department-admin"]],decls:32,vars:5,consts:[[1,"col-md-6","offset-md-10"],["type","button",1,"sign-up",3,"click"],[1,"col-md-12"],[1,"card"],[1,"card-header",2,"text-align","center"],[1,"card-body"],["group","Department-form",3,"ngSubmit","formGroup"],[1,"form-group","row"],["for","name",1,"col-md-6","col-form-label","text-md-right"],[1,"col-md-6"],["type","text","id","name","name","name","required","","autofocus","",1,"form-control",3,"formControlName"],["for","email_address",1,"col-md-6","col-form-label","text-md-right"],["appearance","fill"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["for","location",1,"col-md-6","col-form-label","text-md-right"],["type","text","id","location","name","location","required","","autofocus","",1,"form-control",3,"formControlName"],[1,"col-md-6","offset-md-4"],["type","submit",1,"sign-up"],[3,"value"]],template:function(m,o){m&1&&(i(0,"span",0)(1,"button",1),u("click",function(){return o.close()}),a(2," close "),n()(),i(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4"),a(7,"Register Department"),n()(),i(8,"div",5)(9,"form",6),u("ngSubmit",function(){return o.createDepartment(o.departmentForm.value)}),i(10,"div",7)(11,"label",8),a(12,"Department name"),n(),i(13,"div",9),h(14,"input",10),n()(),i(15,"div",7)(16,"label",11),a(17,"Employees"),n(),i(18,"div",9)(19,"mat-form-field",12)(20,"mat-label"),a(21,"All Employees"),n(),i(22,"mat-select",13),c(23,Qt,2,3,"mat-option",14),n()()()(),i(24,"div",7)(25,"label",15),a(26,"Location"),n(),i(27,"div",9),h(28,"input",16),n()(),i(29,"span",17)(30,"button",18),a(31," Create "),n()()()()()()),m&2&&(r(9),p("formGroup",o.departmentForm),r(5),p("formControlName","name"),r(8),p("formControl",o.SelectedEmployees),r(),p("ngForOf",o.allemp),r(5),p("formControlName","location"))},dependencies:[Y,y,E,se,le,ee,Q,K,X,ae,te,ie,ne]})}}return t})();function Kt(t,l){t&1&&(i(0,"mat-icon",24),a(1,"message"),n(),a(2," Messages "))}function Xt(t,l){t&1&&(i(0,"div",25)(1,"mat-icon"),a(2,"inbox"),n(),i(3,"p"),a(4,"No messages yet"),n()())}function Zt(t,l){t&1&&(i(0,"th",34),a(1,"Sender"),n())}function ei(t,l){if(t&1&&(i(0,"td",35)(1,"div",36)(2,"mat-icon",37),a(3,"person"),n(),i(4,"span"),a(5),n()()()),t&2){let e=l.$implicit;r(5),T(e.sender||"Unknown")}}function ti(t,l){t&1&&(i(0,"th",34),a(1,"Message"),n())}function ii(t,l){if(t&1&&(i(0,"td",35)(1,"span",38),a(2),n()()),t&2){let e=l.$implicit;r(2),T(e.content||e.message)}}function ni(t,l){t&1&&(i(0,"th",34),a(1,"Time"),n())}function ai(t,l){if(t&1&&(i(0,"td",35)(1,"span",39),a(2),ge(3,"date"),n()()),t&2){let e=l.$implicit;r(2),T(he(3,1,e.timestamp,"short"))}}function oi(t,l){t&1&&h(0,"tr",40)}function li(t,l){t&1&&h(0,"tr",41)}function mi(t,l){if(t&1&&(i(0,"table",26),f(1,27),c(2,Zt,2,0,"th",28)(3,ei,6,1,"td",29),g(),f(4,30),c(5,ti,2,0,"th",28)(6,ii,3,1,"td",29),g(),f(7,31),c(8,ni,2,0,"th",28)(9,ai,4,4,"td",29),g(),c(10,oi,1,0,"tr",32)(11,li,1,0,"tr",33),n()),t&2){let e=v();p("dataSource",e.messages),r(10),p("matHeaderRowDef",e.displayedColumns),r(),p("matRowDefColumns",e.displayedColumns)}}function ri(t,l){t&1&&(i(0,"mat-icon",24),a(1,"dashboard"),n(),a(2," Quick Actions "))}var mt=(()=>{class t{constructor(e,m,o,s,C,rt,st,ct){this.authService=e,this.messageService=m,this.requestService=o,this.rescueTeamService=s,this.router=C,this.localStorage=rt,this.http=st,this.dialog=ct,this.rescueTeamId=0,this.password="user",this.rescueTeam=[],this.AllUsers=[],this.request=[],this.activeRequests=[],this.requestDialogOpen=!1,this.rescueInfoDialogOpen=!1,this.employeeInfoDialogOpen=!1,this.messages=[],this.displayedColumns=["sender","content","timestamp"],this.activeEmergenciesCount=0,this.availableTeamsCount=0,this.totalTeamsCount=0,this.unreadMessagesCount=0,this.completedTodayCount=0,this.username=this.localStorage.retrieve("username"),this.authService.getUser(this.username).subscribe(dt=>{this.messageService.getMessageByUserId(dt.userId).subscribe(pt=>{this.messages=pt})})}ngOnInit(){this.username=this.localStorage.retrieve("username"),this.loadDashboardData()}loadDashboardData(){this.authService.getUser(this.username).subscribe(e=>{this.user=e,this.messageService.getMessageByUserId(e.userId).subscribe(m=>{this.messages=m||[],this.calculateUnreadMessages()},m=>{console.error("Error loading messages:",m),this.messages=[]})},e=>console.error("Error loading user:",e)),this.http.get(`${this.getApiUrl()}/request/getAll/`).subscribe(e=>{this.request=e||[],this.calculateRequestStatistics()},e=>{console.error("Error loading requests:",e),this.request=[]}),this.requestService.getAllActiveRequest().subscribe(e=>{this.activeRequests=e||[],this.activeEmergenciesCount=this.activeRequests.length},e=>{console.error("Error loading active requests:",e),this.activeRequests=[]}),this.rescueTeamService.getAllTeams().subscribe(e=>{this.rescueTeam=e||[],this.calculateTeamStatistics()},e=>{console.error("Error loading rescue teams:",e),this.rescueTeam=[]}),this.authService.getAllUser().subscribe(e=>{this.AllUsers=e||[]},e=>{console.error("Error loading users:",e),this.AllUsers=[]})}getApiUrl(){return"http://localhost:8080/api"}calculateRequestStatistics(){let e=new Date;e.setHours(0,0,0,0),this.completedTodayCount=this.request.filter(m=>{if(m.status==="COMPLETED"&&m.completedDate){let o=new Date(m.completedDate);return o.setHours(0,0,0,0),o.getTime()===e.getTime()}return!1}).length}calculateTeamStatistics(){this.totalTeamsCount=this.rescueTeam.length,this.availableTeamsCount=this.rescueTeam.filter(e=>e.status==="AVAILABLE"||e.status==="IDLE"||!e.status).length}calculateUnreadMessages(){this.unreadMessagesCount=this.messages.filter(e=>!e.read&&e.read!==void 0).length,this.unreadMessagesCount===0&&this.messages.length>0&&(this.unreadMessagesCount=this.messages.length)}openRescueDialog(){let e=new b;e.data=this.request,e.disableClose=!0,e.autoFocus=!0,e.position={top:"100px",left:""},e.width="200%",this.requestDialogOpen?(this.dialog.closeAll(),this.requestDialogOpen=!1):(this.dialog.open(Le,e),this.requestDialogOpen=!0)}openRescueTeamInfo(){let e=new b;e.disableClose=!0,e.data=this.rescueTeam,e.autoFocus=!0,this.rescueInfoDialogOpen?(this.dialog.closeAll(),this.rescueInfoDialogOpen=!1):(this.dialog.open(it,e),this.rescueInfoDialogOpen=!0)}openEmployeesInfoDialog(){let e=new b;e.disableClose=!0,e.data=this.AllUsers,e.autoFocus=!0,this.employeeInfoDialogOpen?(this.dialog.closeAll(),this.employeeInfoDialogOpen=!1):(this.dialog.open(Ue,e),this.employeeInfoDialogOpen=!0)}openChatLobby(){let e=new b;e.disableClose=!0,e.autoFocus=!0,e.data,e.width="200%",e.position={top:"100px",left:""},this.dialog.open(ze,e)}createRescueTeam(){let e=new b;e.disableClose=!0,e.autoFocus=!0,e.data=this.AllUsers,this.employeeInfoDialogOpen?(this.dialog.closeAll(),this.employeeInfoDialogOpen=!1):(this.dialog.open(ot,e),this.employeeInfoDialogOpen=!0)}createDepartment(){let e=new b;e.disableClose=!0,e.autoFocus=!0,e.data=this.AllUsers,this.dialog.open(lt,e)}openDepartmentDialog(){let e=new b;e.disableClose=!0,e.autoFocus=!0,e.data,this.dialog.open(We,e)}openallMessageDialog(){let e=new b;e.disableClose=!0,e.data=this.messages,e.autoFocus=!0,e.position={top:"100px",left:""},this.employeeInfoDialogOpen?(this.dialog.closeAll(),this.employeeInfoDialogOpen=!1):(this.dialog.open(Ge,e),this.employeeInfoDialogOpen=!0)}static{this.\u0275fac=function(m){return new(m||t)(d(ve),d($e),d(H),d(L),d(be),d(Te),d(J),d(D))}}static{this.\u0275cmp=S({type:t,selectors:[["app-admin"]],decls:116,vars:7,consts:[[1,"admin-container"],[1,"dashboard-header"],[1,"header-actions"],["mat-icon-button",""],[1,"stats-grid"],[1,"stat-card","critical-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-card","teams-card"],[1,"stat-card","messages-card"],[1,"stat-card","completed-card"],[1,"main-content-card"],["mat-tab-label",""],[1,"tab-content"],[1,"table-header"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by sender or content..."],["matSuffix",""],["class","empty-state",4,"ngIf"],["mat-table","","class","messages-table",3,"dataSource",4,"ngIf"],[1,"action-grid"],["mat-raised-button","",1,"action-button",3,"click"],[1,"tab-icon"],[1,"empty-state"],["mat-table","",1,"messages-table",3,"dataSource"],["matColumnDef","sender"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","content"],["matColumnDef","timestamp"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"sender-cell"],[1,"sender-icon"],[1,"message-preview"],[1,"timestamp"],["mat-header-row",""],["mat-row",""]],template:function(m,o){m&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Emergency Management Dashboard"),n(),i(4,"div",2)(5,"button",3)(6,"mat-icon"),a(7,"notifications"),n()(),i(8,"button",3)(9,"mat-icon"),a(10,"settings"),n()()()(),i(11,"div",4)(12,"mat-card",5)(13,"div",6)(14,"mat-icon"),a(15,"local_fire_department"),n()(),i(16,"div",7)(17,"h3"),a(18,"Active Emergencies"),n(),i(19,"p",8),a(20),n(),i(21,"span",9),a(22,"Requires immediate attention"),n()()(),i(23,"mat-card",10)(24,"div",6)(25,"mat-icon"),a(26,"groups"),n()(),i(27,"div",7)(28,"h3"),a(29,"Teams Available"),n(),i(30,"p",8),a(31),n(),i(32,"span",9),a(33,"Ready for deployment"),n()()(),i(34,"mat-card",11)(35,"div",6)(36,"mat-icon"),a(37,"message"),n()(),i(38,"div",7)(39,"h3"),a(40,"Unread Messages"),n(),i(41,"p",8),a(42),n(),i(43,"span",9),a(44,"Pending responses"),n()()(),i(45,"mat-card",12)(46,"div",6)(47,"mat-icon"),a(48,"check_circle"),n()(),i(49,"div",7)(50,"h3"),a(51,"Completed Today"),n(),i(52,"p",8),a(53),n(),i(54,"span",9),a(55,"Successfully resolved"),n()()()(),i(56,"mat-card",13)(57,"mat-tab-group")(58,"mat-tab"),c(59,Kt,3,0,"ng-template",14),i(60,"div",15)(61,"div",16)(62,"h2"),a(63,"Recent Messages"),n(),i(64,"mat-form-field",17)(65,"mat-label"),a(66,"Search messages"),n(),h(67,"input",18),i(68,"mat-icon",19),a(69,"search"),n()()(),c(70,Xt,5,0,"div",20)(71,mi,12,3,"table",21),n()(),i(72,"mat-tab"),c(73,ri,3,0,"ng-template",14),i(74,"div",15)(75,"div",22)(76,"button",23),u("click",function(){return o.openRescueDialog()}),i(77,"mat-icon"),a(78,"assignment"),n(),i(79,"span"),a(80,"View All Requests"),n()(),i(81,"button",23),u("click",function(){return o.openRescueTeamInfo()}),i(82,"mat-icon"),a(83,"info"),n(),i(84,"span"),a(85,"Rescue Team Info"),n()(),i(86,"button",23),u("click",function(){return o.openDepartmentDialog()}),i(87,"mat-icon"),a(88,"business"),n(),i(89,"span"),a(90,"Departments"),n()(),i(91,"button",23),u("click",function(){return o.openEmployeesInfoDialog()}),i(92,"mat-icon"),a(93,"badge"),n(),i(94,"span"),a(95,"Employees"),n()(),i(96,"button",23),u("click",function(){return o.openChatLobby()}),i(97,"mat-icon"),a(98,"chat"),n(),i(99,"span"),a(100,"Chat Lobby"),n()(),i(101,"button",23),u("click",function(){return o.createRescueTeam()}),i(102,"mat-icon"),a(103,"group_add"),n(),i(104,"span"),a(105,"Create Rescue Team"),n()(),i(106,"button",23),u("click",function(){return o.createDepartment()}),i(107,"mat-icon"),a(108,"add_business"),n(),i(109,"span"),a(110,"Create Department"),n()(),i(111,"button",23),u("click",function(){return o.openallMessageDialog()}),i(112,"mat-icon"),a(113,"forum"),n(),i(114,"span"),a(115,"All Messages"),n()()()()()()()()),m&2&&(r(20),T(o.activeEmergenciesCount),r(11),A("",o.availableTeamsCount,"/",o.totalTeamsCount,""),r(11),T(o.unreadMessagesCount),r(11),T(o.completedTodayCount),r(17),p("ngIf",o.messages.length===0),r(),p("ngIf",o.messages.length>0))},dependencies:[Ce,Ae,y,E,ye,qe,ke,R,w,k,O,I,F,P,q,j,N,Oe,Ye,Je,Qe,Ie,_e],styles:[".admin-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:500;color:var(--text-primary);margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{display:flex;gap:16px;padding:24px!important;border-radius:12px!important;transition:transform .2s ease,box-shadow .2s ease;cursor:pointer}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f!important}.stat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:56px;height:56px;border-radius:12px;background:#ffffffe6}.stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.critical-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d32f2f,#f44336);color:#fff}.critical-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#fff3}.critical-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.teams-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1976d2,#2196f3);color:#fff}.teams-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#fff3}.teams-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.messages-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f57c00,#ff9800);color:#fff}.messages-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#fff3}.messages-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.completed-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#388e3c,#4caf50);color:#fff}.completed-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#fff3}.completed-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:500;opacity:.9}.stat-number[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:8px 0;line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.main-content-card[_ngcontent-%COMP%]{margin-top:24px}.tab-content[_ngcontent-%COMP%]{padding:24px}.tab-icon[_ngcontent-%COMP%]{margin-right:8px}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.table-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500}.search-field[_ngcontent-%COMP%]{width:300px}.messages-table[_ngcontent-%COMP%]{width:100%;margin-top:16px}.sender-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.sender-icon[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:20px;width:20px;height:20px}.message-preview[_ngcontent-%COMP%]{display:block;max-width:400px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.timestamp[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:13px}.action-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.action-button[_ngcontent-%COMP%]{height:100px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;font-size:14px;text-transform:none;box-shadow:0 2px 8px #00000014!important;transition:all .3s ease}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026!important}.action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.search-field[_ngcontent-%COMP%]{width:100%}.table-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.action-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.sidebar[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:16px;font-weight:500;line-height:20px;color:#1c1c1c}"]})}}return t})();var si=[{path:"",component:mt}],fn=(()=>{class t{static{this.\u0275fac=function(m){return new(m||t)}}static{this.\u0275mod=fe({type:t})}static{this.\u0275inj=ue({imports:[xe,Se.forChild(si),Ee,Re,Fe,Ne,je,Be,Ve,Pe,Ke,we,De,Me]})}}return t})();export{fn as AdminModule};
